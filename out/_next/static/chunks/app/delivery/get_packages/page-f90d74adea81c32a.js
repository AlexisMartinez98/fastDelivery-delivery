(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{1064:function(e,t,r){Promise.resolve().then(r.bind(r,9370))},9370:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(7437),n=r(2265),o=r(9222),i=e=>{let{itemId:t,address:r,setSelectedPackages:o}=e,[i,a]=(0,n.useState)(!1);return(0,s.jsx)("div",{className:"flex mx-5 py-2 border-[#3D1DF3] border-[1.5px] rounded-2xl items-center my-6 rounded-br-xl",id:t,children:(0,s.jsxs)("div",{className:"flex items-center ",children:[(0,s.jsxs)("label",{className:"relative inline-block w-10 h-5 cursor-pointer !important",children:[(0,s.jsx)("input",{type:"checkbox",checked:i,onChange:()=>{a(!i),o(t)},className:"hidden",style:{width:"16px",height:"16px",backgroundColor:i?"#3D1DF3":"#FFFFFF",borderRadius:"4px"}}),(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-[#3D1DF3] rounded-md ".concat(i?"bg-[#c7ffb1]":"bg-white"," absolute left-2")}),i&&(0,s.jsx)("span",{className:"w-5 h-5 bg-center bg-no-repeat bg-cover absolute left-2",children:(0,s.jsx)("img",{src:"../../../pipeta.svg",alt:"Palomita",className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"flex items-center w-full ml-3",children:(0,s.jsxs)("p",{className:"font-light text-sm mb-1 mr-4",children:[r.split(",")[0],",",(0,s.jsx)("br",{}),r.split(",")[1]]})})]})})},a=r(1396),c=r.n(a),l=r(4033),d=r(1490),u=r(171),p=()=>{let e=(0,l.useRouter)(),t=d.Z.get("token"),[r,a]=(0,n.useState)([]),[p,m]=(0,n.useState)([]),[h,x]=(0,n.useState)("");(0,n.useEffect)(()=>{if(t?o.Z.get("http://localhost:4000/api/v1/delivery/allPackages").then(e=>{a(e.data)}).catch(e=>console.error("Error al obtener paquetes:",e)):e.push("/login"),t){let e=t.split(".");if(3===e.length){let t=atob(e[1]),r=JSON.parse(t);x(r.id)}}},[t,e]);let f=e=>{p.includes(e)?(m(p.filter(t=>t!==e)),b(e,!1)):(m([...p,e]),b(e,!0))},b=(e,t)=>{o.Z.patch("http://localhost:4000/api/v1/delivery/takePackage",{package_id:e,deliveryMan_id:h,assigned:t}).then(()=>{}).catch(e=>{u.Am.error(e.response.data.error)})};return(0,s.jsxs)("main",{className:"mr-6 ml-6 mt-4 mb-8 font-poppins",children:[(0,s.jsxs)("div",{className:"package-info rounded-2xl text-[#3D1DF3] bg-[#C7FFB1]",children:[(0,s.jsxs)("div",{className:"h-16 flex items-center",children:[(0,s.jsx)(c(),{href:"/delivery/start_day",className:"flex items-center",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-8 h-8 mr-8 ml-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 9l-3 3m0 0l3 3m-3-3h7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h1",{className:"ml-4 font-black text-lg",children:"Obtener paquetes"})]}),(0,s.jsx)("div",{className:"rounded-2xl py-4 bg-white",style:{borderBottomLeftRadius:"1rem",borderBottomRightRadius:"1rem",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem"},children:(0,s.jsxs)("div",{className:"mt-2 h-[460px] overflow-y-auto relative",children:[(0,s.jsx)("span",{className:"ml-8 text-md",children:"\xbfCu\xe1ntos paquetes repartir\xe1s hoy?"}),(0,s.jsx)("div",{className:"mx-auto w-[300px] border-t border-[#3D1DF3] border-opacity-60 border-dotted my-3"}),r.map(e=>(0,s.jsx)(i,{itemId:e._id,address:e.address,setSelectedPackages:f},e._id))]})})]}),(0,s.jsx)(c(),{href:"/delivery/start_day",children:(0,s.jsx)("button",{type:"button",className:"w-full max-w-xl bg-customGreen hover:bg-blue-600 text-[#3D1DF3] py-[6px] px-4 rounded-full mt-4",children:"Iniciar jornada"})})]})}},4033:function(e,t,r){e.exports=r(8165)},1490:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}r.d(t,{Z:function(){return n}});var n=function e(t,r){function n(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=s({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+i}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],s={},n=0;n<r.length;n++){var o=r[n].split("="),i=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(s[a]=t.read(i,a),e===a)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){n(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[750,396,971,596,744],function(){return e(e.s=1064)}),_N_E=e.O()}]);